(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ee58f56"],{"0748":function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{attrs:{"data-source":e.data,columns:e.columns,pagination:Object.assign({},e.page,{pageSizeOptions:["10","20","30","40"]}),rowKey:function(e){return e.id}},on:{change:e.changePage},scopedSlots:e._u([{key:"operation",fn:function(t,o){return a("div",{},[a("a-button",{staticStyle:{"margin-right":"3px"},on:{click:function(t){return e.edit(o)}}},[e._v("编辑")]),a("a-popconfirm",{attrs:{title:"是否删除 “"+(o.name||o.title)+"” ","ok-text":"是","cancel-text":"否"},on:{confirm:function(t){return e.remove(o)}}},[a("a-button",{attrs:{type:"danger"}},[e._v(" 删除 ")])],1)],1)}}])})},i=[],n={props:["data","page","columns"],methods:{changePage:function(e){this.$emit("changePage",e)},edit:function(e){this.$emit("edit",e)},remove:function(e){this.$emit("remove",e)}}},r=n,s=a("2877"),c=Object(s["a"])(r,o,i,!1,null,null,null);t["a"]=c.exports},"076a":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Category"},[a("div",{staticClass:"add-category"},[a("a-button",{attrs:{type:"primary",icon:"medicine-box",size:"large"},on:{click:function(t){e.visible=!0,e.model=!0}}},[e._v(" 添加类目 ")])],1),a("Table",{attrs:{columns:e.columns,page:e.page,data:e.cateList},on:{changePage:e.setPage,edit:e.editCategory,remove:e.removeCategory}}),a("Modal",{attrs:{form:e.form,model:e.model,visible:e.visible},on:{showModal:e.showVisible,condition:e.condition}})],1)},i=[],n=a("5530"),r=a("0748"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"Modal"},[a("a-modal",{attrs:{title:e.model?"添加商品类目":"修改商品类目",visible:e.visible,"confirm-loading":e.confirmLoading},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("a-form-model",{ref:"categoryForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[a("a-form-model-item",{attrs:{label:"商品类目ID",prop:"id"}},[a("a-input",{attrs:{disabled:!e.model},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1),a("a-form-model-item",{attrs:{label:"商品类目名称",prop:"name"}},[a("a-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("a-form-model-item",{attrs:{label:"商品子类目",prop:"c_items"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{mode:"tags"},model:{value:e.form.c_items,callback:function(t){e.$set(e.form,"c_items",t)},expression:"form.c_items"}})],1)],1)],1)],1)},c=[],l=a("7e35"),m={categoryList:function(e){return l["a"].get("/category/all",e)},addCategory:function(e){return l["a"].post("/category/add",e)},deleteCategory:function(e){return l["a"].delete("/category/".concat(e))},editCategory:function(e){return l["a"].put("/category/edit",e)}},d={props:["visible","form","model"],data:function(){return{labelCol:{span:6},wrapperCol:{span:15},confirmLoading:!1,rules:{id:[{required:!0,message:"请输入商品类目ID",trigger:"blur"}],name:[{required:!0,message:"请输入商品类目名称",trigger:"blur"}],c_items:[{required:!0,message:"请添加子类目",trigger:"blur"}]}}},methods:{handleOk:function(){var e=this;this.confirmLoading=!0,this.model?this.$refs.categoryForm.validate((function(t){t?m.addCategory(e.form).then((function(){e.$message.success("添加成功"),e.confirmLoading=!1,e.$emit("showModal",!1),e.$emit("condition")}),(function(t){e.$message.error(t),e.confirmLoading=!1})):console.log("error submit!!")})):m.editCategory(this.form).then((function(){e.confirmLoading=!1,e.$message.success("修改成功"),e.$emit("showModal",!1),e.$emit("condition")})).catch((function(t){e.$message.error(t),e.confirmLoading=!1}))},handleCancel:function(){this.$emit("showModal",!1),this.$emit("condition")}}},u=d,g=a("2877"),f=Object(g["a"])(u,s,c,!1,null,null,null),p=f.exports,h=[{title:"ID",dataIndex:"id"},{title:"名称",dataIndex:"name"},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},align:"center"}],b={components:{Table:r["a"],Modal:p},data:function(){return{model:!0,visible:!1,columns:h,form:{id:"",name:"",c_items:[]},cateList:[],page:{current:1,pageSize:10,showSizeChanger:!0,total:0}}},created:function(){this.getTable()},methods:{showVisible:function(e){this.visible=e},getTable:function(){var e=this;m.categoryList({page:this.page.current,size:this.page.pageSize}).then((function(t){e.cateList=t.data,e.total=t.total}))},setPage:function(e){this.page.current=e.current,this.page.pageSize=e.pageSize,this.getTable()},condition:function(){this.form={id:"",name:"",c_items:[]},this.getTable()},editCategory:function(e){this.model=!1,this.visible=!0,this.form=Object(n["a"])({},e)},removeCategory:function(e){var t=this;m.deleteCategory(e.id).then((function(){t.$message.success("删除成功"),t.getTable()}))}}},v=b,y=(a("a240"),Object(g["a"])(v,o,i,!1,null,null,null));t["default"]=y.exports},"2a37":function(e,t,a){},a240:function(e,t,a){"use strict";a("2a37")}}]);
//# sourceMappingURL=chunk-1ee58f56.10bc57f8.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fdcde4ce"],{"0748":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-table",{attrs:{"data-source":t.data,columns:t.columns,pagination:Object.assign({},t.page,{pageSizeOptions:["10","20","30","40"]}),rowKey:function(t){return t.id}},on:{change:t.changePage},scopedSlots:t._u([{key:"operation",fn:function(e,n){return a("div",{},[a("a-button",{staticStyle:{"margin-right":"3px"},on:{click:function(e){return t.edit(n)}}},[t._v("编辑")]),a("a-popconfirm",{attrs:{title:"是否删除 “"+(n.name||n.title)+"” ","ok-text":"是","cancel-text":"否"},on:{confirm:function(e){return t.remove(n)}}},[a("a-button",{attrs:{type:"danger"}},[t._v(" 删除 ")])],1)],1)}}])})},r=[],i={props:["data","page","columns"],methods:{changePage:function(t){this.$emit("changePage",t)},edit:function(t){this.$emit("edit",t)},remove:function(t){this.$emit("remove",t)}}},o=i,c=a("2877"),s=Object(c["a"])(o,n,r,!1,null,null,null);e["a"]=s.exports},"4f1d":function(t,e,a){"use strict";a("d6aa")},c316:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Search",{attrs:{list:t.categoryList},on:{submit:t.changeSearch}}),a("Table",{attrs:{data:t.tableData,page:t.page,columns:t.columns},on:{changePage:t.setPage,edit:t.editItem,remove:t.removeItem}})],1)},r=[],i=a("5530"),o=a("1da1"),c=(a("96cf"),a("ac1f"),a("841c"),a("d3b7"),a("159b"),a("d81d"),a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"Search"},[a("a-form",{attrs:{layout:"inline",form:t.formSearch},on:{submit:t.submitSearch},nativeOn:{submit:function(t){t.preventDefault()}}},[a("a-form-item",{attrs:{label:"搜索关键字"}},[a("a-input",{attrs:{placeholder:"请输入搜索内容"},model:{value:t.formSearch.searchWord,callback:function(e){t.$set(t.formSearch,"searchWord",e)},expression:"formSearch.searchWord"}})],1),a("a-form-item",{attrs:{label:"商品类目"}},[a("a-select",{staticStyle:{width:"200px"},attrs:{"show-search":"",placeholder:"选择",allowClear:!0,"filter-option":t.filterOption},on:{change:t.handleChange}},t._l(t.list,(function(e){return a("a-select-option",{key:e.id,attrs:{value:e.id}},[t._v(" "+t._s(e.name)+" ")])})),1)],1),a("a-form-item",[a("a-button",{attrs:{type:"primary","html-type":"submit"}},[t._v(" 搜索 ")])],1)],1),a("div",{staticClass:"add-commodity"},[a("router-link",{attrs:{to:{name:"AddGoods"}}},[a("a-button",{attrs:{type:"primary",icon:"medicine-box",size:"large"}},[t._v(" 添加商品 ")])],1)],1)],1)}),s=[],l={props:["list"],data:function(){return{formSearch:{searchWord:"",category:""}}},methods:{submitSearch:function(){this.$emit("submit",this.formSearch)},handleChange:function(t){this.formSearch.category=t},filterOption:function(t,e){return e.componentOptions.children[0].text.toLowerCase().indexOf(t.toLowerCase())>=0}}},u=l,d=(a("4f1d"),a("2877")),h=Object(d["a"])(u,c,s,!1,null,null,null),m=h.exports,f=a("0748"),p=a("027a"),g=[{title:"ID",dataIndex:"id"},{title:"标题",dataIndex:"title"},{title:"描述",dataIndex:"desc"},{title:"类目",dataIndex:"categoryName"},{title:"预售价格",dataIndex:"price"},{title:"折扣价格",dataIndex:"price_off"},{title:"标签",dataIndex:"tags"},{title:"限制购买数量",dataIndex:"inventory"},{title:"上架状态",dataIndex:"status",customRender:function(t,e){return 0===e.status?"未上架":"已上架"}},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"},width:180,align:"center"}],b={components:{Search:m,Table:f["a"]},data:function(){return{columns:g,tableData:[],searchData:{},categoryList:[],categoryObject:{},liId:[],page:{current:1,pageSize:10,showSizeChanger:!0,total:0}}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["a"].search().then((function(e){t.categoryList=e.data,e.data.forEach((function(e){t.categoryObject[e.id]=e}))}));case 2:t.getTable();case 3:case"end":return e.stop()}}),e)})))()},methods:{changeSearch:function(t){this.searchData=t,this.getTable()},getTable:function(){var t=this;p["a"].respTable(Object(i["a"])({page:this.page.current,size:this.page.pageSize},this.searchData)).then((function(e){t.tableData=e.data.map((function(e){return Object(i["a"])(Object(i["a"])({},e),{},{categoryName:t.categoryObject[e.category].name})})),t.page.total=e.total}))},setPage:function(t){this.page.current=t.current,this.page.pageSize=t.pageSize,this.getTable()},editItem:function(t){this.$router.push({name:"EditItem",params:{Id:t.id}})},removeItem:function(t){var e=this;p["a"].deleteItem(t.id).then((function(){e.getTable()}))}}},v=b,y=Object(d["a"])(v,n,r,!1,null,null,null);e["default"]=y.exports},d6aa:function(t,e,a){}}]);
//# sourceMappingURL=chunk-fdcde4ce.fe93120a.js.map